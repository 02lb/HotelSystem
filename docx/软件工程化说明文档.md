<h1><center>软件工程化</center></h1>

| 修改人 | 修改内容                               | 修改原因       | 版本信息 | 修改日期 |
| ------ | -------------------------------------- | -------------- | -------- | -------- |
| 李伟铭 | 完成第一版初稿                         | -              | v1.0     | 24/6/15  |
| 李博   | 完成第二版初稿                         | 完善工程化文档 | v2.0     | 24/6/20  |
| 李博   | 完成项目生命周期、自动化协作化说明部分 | 完善工程化文档 | V2.1     | 24/6/21  |

### 1. 引言

#### 1.1 编写目的

**本文档的编写旨在系统化地阐述 酒店前台预订和后台管理系统项目 在开发过程中所采用的****软件工程****化方法**，重点包括自动化程度和协作化程度。通过详细描述项目的自动化流程、协作方式及相关工具的使用，确保所有团队成员和利益相关者对项目的开发、测试、部署和维护过程有全面的了解。

具体目的包括：

1. **提高开发效率**：通过描述自动化工具和流程，减少人工操作，提高开发和部署的效率。
2. **提升代码质量**：通过实施自动化测试和持续集成，保证代码的高质量和稳定性，减少潜在的缺陷。
3. **促进团队协作**：明确版本管理、事项追踪和协同平台的使用规范，提升团队沟通和协作效率。
4. **规范开发流程**：提供清晰的开发、测试、部署流程说明，确保项目开发的一致性和规范性。
5. **降低维护成本**：通过详细记录工程化方法和工具配置，为后期维护和更新提供参考，降低维护成本和风险。

#### 1.2 预期读者及建议

| 编号 | 预期读者     | 阅读建议                                       |
| ---- | ------------ | ---------------------------------------------- |
| 1    | 小组所有成员 | 详细阅读文档，了解软件工程化方法和工具的使用。 |
| 2    | 测试人员     | 关注自动化测试部分，完善测试用例编写和运行。   |
| 3    | 老师         | 审阅小组的软件工程化实践，提供指导和建议。     |



### 2. 软件工程化方法概述

> 在本酒店管理系统项目中，我们采用了一系列的软件工程化方法，以确保项目的高质量、高效率和高可维护性。

#### 2.1 软件开发生命周期

软件开发生命周期（SDLC）是指软件开发过程中的各个阶段，从需求分析到维护，确保软件系统在每个阶段都能得到有效的管理和控制。**本项目采用的SDLC包括以下几个阶段：**

1. **需求分析**：与利益相关者沟通，明确系统功能和性能要求，形成需求规格说明书（需求分析设计报告）。
2. **系统建模：**在需求明确后，进行系统分析和建模，建立用例图、类图、状态图、活动图等，确保对系统的结构和行为有清晰的理解。
3. **架构设计**：在系统建模之后，进行系统架构设计，确定技术栈、系统架构图、模块/子系统设计等；对系统中的核心模块进行详细设计，包含类图、序列图、设计模式等。
4. **代码实现**：小组开发成员按照设计文档编写代码，实现酒店管理系统前后端以及功能模块。
5. **CI/CD****：**开发代码在提交到主分支后，可以自动进行集成排查并且成功部署到测试环境，提高开发效率。
6. **软件测试**：进行单元测试、集成测试和系统测试，确保系统功能和性能符合需求。设计和执行测试计划，编写测试用例，进行缺陷跟踪和质量保证。
7. **项目部署**：将系统部署到生产环境，确保系统能够正常运行。并编写自动化部署脚本，支持一键自动部署过程。
8. **长期维护**：设计详细的运维计划，对酒店系统进行日常维护和排查。

> 我们小组在软件开发生命周期中的各个阶段都要求了相关的目标和交付物，以确保高效。



### ==3. 自动化说明==

#### 3.1 编译打包

##### 3.1.1 编译工具和配置

+ **前端编译工具**：使用Vue CLI来管理项目构建配置，包括webpack配置、开发服务器、热重载等。项目配置文件`vue.config.js`中定义了各种编译和构建选项。
+ **后端编译工具**：Django项目主要使用Python，不需要复杂的编译过程，但依赖管理和环境配置通过`requirements.txt`和 Conda 配置文件完成。

##### 3.1.2 打包流程

+ **前端打包流程**：
	+ 使用命令`npm run build`触发Vue CLI进行生产环境构建。
	+ 打包后的文件存放在`dist`目录，用于部署到服务器。
+ **后端打包流程**：
	+ 创建虚拟环境并安装依赖。
	+ 将Django项目打包成可部署的格式，如Docker镜像。

#### 3.2 包管理

##### 3.2.1 前端包管理

+ **npm**：使用npm进行包管理，通过`package.json`文件管理项目依赖，确保项目所需的库和工具版本一致。

##### 3.2.2 后端包管理

+ **pip**：通过`requirements.txt`文件管理Python依赖。
+ **Conda**：使用Conda创建和管理虚拟环境，通过`environment.yml`文件管理依赖，确保环境的可移植性和一致性。

#### 3.3 脚手架

**3.3.1 项目生成器**

+ **Vue CLI**：用于快速搭建Vue项目，通过一系列预设和插件，实现项目的快速初始化和配置。提供了完整的项目结构和构建配置，简化了前端开发流程。
+ **Django**：Django自带的项目生成命令（`django-admin startproject`和`startapp`）用于创建新的Django项目和应用程序，确保项目结构的一致性，并提供内置的管理工具和配置。
+ **Ant Design Vue**：虽然主要作为UI组件库使用，Ant Design Vue也提供了一些脚手架工具和模板，帮助开发人员快速集成和使用其丰富的组件库，提升开发效率和界面美观度。

#### 3.4 运行环境管理

**3.4.1 虚拟环境**

+ **Conda**：使用Conda创建独立的Python环境，确保不同项目之间的依赖不冲突，通过`environment.yml`文件定义环境。

##### 3.4.2 容器化

+ **GitHub Actions中的Docker**：在持续集成过程中，使用GitHub Actions配置和管理Docker容器，以确保测试环境的一致性。虽然在开发环境中不直接使用Docker，但在CI/CD流程中，Docker的使用确保了构建、测试和部署过程的一致性和隔离性。

#### 3.5 自动化测试

##### 3.5.1 单元测试

+ 小组开发成员在编写代码的同时，编写了相关的单元测试用例，以验证每个组件的功能是否正确。
+ 在单元测试中，使用了Django自带的测试框架和Rest Framework提供的APIRequestFactory来进行自动化测试。

##### 3.5.2 后端API测试

+ 对于后端API，我们使用Postman工具进行自动化测试。我们编写了一系列的测试用例，用于验证每个API端点的功能和性能。

##### 3.5.3 前端测试

+ 对于前端页面，我们使用Chrome开发者工具进行自动化测试。我们编写了一些JavaScript代码，用于验证页面的元素和功能是否正常。

##### 3.5.4 功能测试

+ 除了自动化测试外，我们还进行了功能测试。功能测试是通过模拟真实用户的操作来测试系统的功能。例如，我们通过手动操作来测试酒店预订功能，确保用户能够顺利预订酒店房间。

##### 3.5.5 进一步测试

+ 我们在项目中还没有使用自动化程度、耦合程度更高的测试手段：例如集成测试、端到端测试等。

#### 3.6 持续集成

**3.6.1 CI工具**

+ **GitHub Actions**：使用GitHub Actions配置持续集成流程，每次main分支代码提交和合并请求时自动触发构建、测试和部署。

**3.6.2 CI流程**

+ **代码提交**：开发人员将代码提交到GitHub仓库中的`main`分支，触发CI流程。
+ **代码检查**：使用静态代码分析工具检查代码质量，确保代码符合规范。
+ **单元测试**：运行前端和后端的单元测试，确保代码的正确性。
+ **数据库初始化**：启动MySQL服务，创建数据库和用户，运行数据库迁移。
+ **构建和启动后端**：使用Conda创建并激活虚拟环境，安装依赖，启动Django后端服务器。
+ **构建和启动前端**：安装Node.js依赖，启动前端开发服务器。



### ==4. 协作化说明==

#### 4.1 版本管理

+ **版本控制系统**：我们使用Git作为版本控制系统，用于管理和跟踪项目代码的变更。
+ **分支策略**：项目中采用了简化的分支模型，仅包括main和develop两个主要分支。main分支用于存放稳定的发布版本，develop分支用于进行日常开发和集成。

#### 4.2 事项追踪

+ **产品待办事项列表（Product Backlog，PB）**：PB包含了所有需要完成的工作项和需求，按优先级排序，由产品负责人维护。列表内容包括功能需求、非功能需求、技术改进等。链接：[产品待办事项列表（Product Backlog）](https://kvygx7tu567.feishu.cn/wiki/UENewLpD4iIAKJka1G2cafh0n7b?from=from_copylink)
+ **冲刺待办事项列表（Sprint Backlog，SPB）**：在每个冲刺周期开始时，从PB中选取优先级高且能够在当前冲刺完成的任务，形成SPB。团队共同制定冲刺计划，并在冲刺期间跟踪任务进展和剩余工作量。链接：[【腾讯文档】酒店管理系统Sprint Backlog](https://docs.qq.com/sheet/DRHZTRGpDVlNrTll5?tab=BB08J2)
+ **飞书云文档**：为了有效追踪和管理项目中的问题、任务和需求，我们团队使用飞书云文档作为主要的事项追踪工具。通过飞书的在线协作环境，小组成员可以同时编辑文档并实时查看他人的修改内容，对部分内容和工作可以进行评论和提醒（会有相应的反馈）。

#### 4.3 协同平台

+ **代码审查和合并请求**：我们使用 GitHub Pull Requests 进行代码审查和合并请求，确保代码质量和合并流程的规范性。
+ **持续集成/持续交付（CI/CD）平台**：我们使用 GitHub Actions 作为持续集成和持续交付平台，自动化构建、测试和部署流程，提高交付效率和质量。
+ **团队沟通工具**：我们使用微信作为主要的实时交流工具，飞书作为文档编写和团队协作工具。微信有利于开发人员的实时沟通请求，飞书云文档有利于开发人员进行事务追踪和写作文档撰写。

#### 4.4 线下会议

+ 为了进一步促进团队协作和沟通，我们定期举行线下会议，讨论项目进展、解决方案、技术难题等重要事项。
+ 线下会议通常包括团队成员的面对面交流和讨论，可以更直接地交流想法和解决问题，提高团队的凝聚力和效率。
